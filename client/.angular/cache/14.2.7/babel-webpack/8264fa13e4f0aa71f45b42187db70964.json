{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet CheckoutComponent = class CheckoutComponent {\n  constructor(fb, accountService, basketService) {\n    this.fb = fb;\n    this.accountService = accountService;\n    this.basketService = basketService;\n  }\n\n  ngOnInit() {\n    this.createCheckoutForm(); //this.getAddressFormValues();\n\n    this.getDeliveryMethodValue();\n    this.basketTotals$ = this.basketService.basketTotal$;\n  }\n\n  createCheckoutForm() {\n    this.checkoutForm = this.fb.group({\n      addressForm: this.fb.group({\n        firstName: [null, Validators.required],\n        lastName: [null, Validators.required],\n        street: [null, Validators.required],\n        city: [null, Validators.required],\n        state: [null, Validators.required],\n        zipCode: [null, Validators.required]\n      }),\n      deliveryForm: this.fb.group({\n        deliveryMethod: [null, Validators.required]\n      }),\n      paymentForm: this.fb.group({\n        nameOnCard: [null, Validators.required]\n      })\n    });\n  } // getAddressFormValues() {\n  //   this.accountService.getUserAddress().subscribe(address => {\n  //     if (address) {\n  //       this.checkoutForm.get('addressForm').patchValue(address);\n  //     }\n  //   }, error => {\n  //     console.log(error);\n  //   })\n  // }\n\n\n  getDeliveryMethodValue() {\n    const basket = this.basketService.getCurrentBasketValue();\n\n    if (basket.deliveryMethodId !== null) {\n      this.checkoutForm.get('deliveryForm').get('deliveryMethod').patchValue(basket.deliveryMethodId.toString());\n    }\n  }\n\n};\nCheckoutComponent = __decorate([Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.component.html',\n  styleUrls: ['./checkout.component.scss']\n})], CheckoutComponent);\nexport { CheckoutComponent };","map":null,"metadata":{},"sourceType":"module"}